{% extends 'layout.html' %}
{% block title %}Home - StudyBuddy{% endblock %}
{% block content %}
<div class="container dashboard-container">
    <h1>Welcome, {{ user.username }}</h1>
    <p>Here you can manage your tasks and track your study progress.</p>

    <div class="row mt-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h3>Quick Actions</h3>
                </div>
                <div class="card-body">
                    <div class="d-grid gap-2">
                        <a href="{{ url_for('view_tasks') }}" class="btn btn-primary">View Tasks</a>
                        <a href="{{ url_for('create_task') }}" class="btn btn-success">Create New Task</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h3>Study Statistics</h3>
                </div>
                <div class="card-body">
                    <div class="study-stats">
                        <p><strong>Total Study Sessions:</strong> {{ user.study_sessions|length }}</p>
                        <p><strong>Active Tasks:</strong> 
                            {{ user.tasks|selectattr('status.name', 'equalto', 'IN_PROGRESS')|list|length }}
                        </p>
                        <p><strong>Completed Tasks:</strong>
                            {{ user.tasks|selectattr('status.name', 'equalto', 'COMPLETED')|list|length }}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}